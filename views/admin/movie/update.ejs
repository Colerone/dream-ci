<!doctype html>
<html lang="en" data-bs-theme="auto">
  <head>
     <% include ../../partialAdmin/head %>
    
  </head>
  <body>
    <% include ../../partialAdmin/theme_switcher %>
    
    <% include ../../partialAdmin/header %>

<div class="container-fluid">
  <div class="row">
    
    <% include ../../partialAdmin/sidebar %>

    <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
      <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
        <h1 class="h2">Movie Update</h1>
      </div>     
      <div class="row">
        <div class= "col-lg-2 col-md-1 col-sm-12"></div>
        <div class= "col-lg-8 col-md-10 col-sm-12">
        <div class="card">
            <div class="card-body">
                <form action="/admin/movieUpdate" method="post" enctype="multipart/form-data">
                    <input type="hidden" name="id" value="<%= movie._id%>">
                    <div class="mb-3 mt-3">
                      <label for="title" class="form-label">Title</label>
                      <input type="text" class="form-control" id="title" value="<%= movie.title %>" name="title">
                    </div>
                    <div class="mb-3">
                      <label for="cinemaId" class="form-label">Cinema</label>
                      <select class="form-select" name="cinemaId" id="cinemaId" aria-lable="Default select example">
                        <% for(var i = 0;i < cinemas.length ; i++){%>
                          <option value="<%= cinemas[i]._id%>" <%=cinemas[i]._id.equals(movie.cinemaId) ? "selected":""%>> <%= cinemas[i].name%>
                        </option>
                      <%}%>
                      </select>
                    </div>
                    <div class="mb-3">
                      <label for="poster" class="form-label">Poster</label>
                      <input type="file" class="form-control" id="poster" placeholder="Insert poster" name="poster" accept="image/*">
                    </div>
                   
                    <div class="mb-3">
                      <label for="category" class="form-label">Category</label>
                      <select class="form-select" multiple="multiple" name="category" aria-label="Default select example">
                       <option value="action" <%=movie.category.includes("action") ? "selected":""%>>Action</option>
                       <option value="horror" <%=movie.category.includes("horror") ? "selected":""%>>Horror</option>                        
                      </select>
                    </div>
                    <div class="mb-3">
                      <label for="cast" class="form-label">Cast</label>
                      <input type="text" class="form-control" id="cast" value="<%= movie.cast %>" name="cast" >
                    </div>
                    <div class="mb-3">
                      <label for="director" class="form-label">Director</label>
                      <input type="text" class="form-control" id="director" value="<%= movie.director%>" name="director" >
                    </div>
                    
                    <div class="mb-3">
                      <label for="date" class="form-label">Start Date</label>
                      <input type="date" class="form-control" id="startDate" value="<%= movie.startDate.toISOString().slice(0,10); %>" name="startDate" >
                    </div>
                    <div class="mb-3">
                      <label for="date" class="form-label">End Date</label>
                      <input type="date" class="form-control" id="date" value="<%= movie.endDate.toISOString().slice(0,10); %>" name="endDate" >
                    </div>
                    <div class="mb-3">
                      <label for="date" class="form-label">Release Date</label>
                      <input type="date" class="form-control" id="date" value="<%= movie.releaseDate.toISOString().slice(0,10); %>" name="releaseDate" >
                    </div>
                    <div class="mb-3">
                      <label for="duration" class="form-label">Duration</label>
                      <input type="text" class="form-control" id="text" value="<%= movie.duration %>" name="duration" >
                    </div>
                    <div class="mb-3">
                      <label for="trailer" class="form-label">Trailer link</label>
                      <input type="text" class="form-control" id="trailer_link" value="<%= movie.trailer%>" name="trailer" >
                    </div>
                    <div class="form-group mb-3">
                      <textarea class="form-control" id="sync" placeholder="Synopsis Here" rows="3"  name="syn"><%= movie.syn%></textarea>
                      <label for="Synopsis">Synopsis</label>
                    </div>
                    <div class="d-grid">
                    <button type="submit" class="btn btn-primary">Submit</button>
                    </div>
                  </form>
            </div>
        </div>
        </div>
        <div class= "col-lg-2 col-md-1 col-sm-12"></div>
      </div>
    
    </main>
  </div>
</div>
<script src="assets/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
    